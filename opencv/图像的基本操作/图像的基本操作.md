# opencv的基本操作

## 相关的库
```python
	# opencv 读取的格式是BRG格式
    import cv2 
    # 画图
    import matplotlib.pyplot as plt
    import numpy as np
```
## 读取图像、显示图像、关闭窗口
```python
# 读取图像
img = cv2.imread('../imgs/cat1.jpg')
# 展示图像
cv2.imshow('img',img)
# 设置等待时间，毫秒级，0表示任意键终止图像显示
cv2.waitKey(0)
# 关闭所有窗口
cv2.destroyAllWindows()
```
## 图片的一些操作信息
* img.shape = (height,width,ctype)
* 读取灰度图
* * img = cv2.imread('../imgs/cat1.jpg',cv2.IMREAD_GRAYSCALE)
* * ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200629232226861.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzI5ODIy,size_16,color_FFFFFF,t_70)
* 保存图片
* * cv2.imwrite('mycat.png',img)
* img的格式==》 type(img)

## 读取视频
* cv2.VideoCapture可以捕获摄像头，用数字来控制不同的设备，例如0,1
* 如果是视频文件的，可以指定好路径即可
* 视频是由2一帧帧图片组成的

```python
# 读取视频（一个帅气的小哥哥）
vc = cv2.VideoCapture('../videos/sqdxgg.mp4')
# 检查文件路径是否正确
if vc.isOpened():
    open,frame = vc.read()
else:
    open = False

while open:
    ret,frame = vc.read()
    if frame is None:
        break
    if ret == True:
        gray = cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)
        cv2.imshow('reslut',gray)
        # esc
        if cv2.waitKey(10) & 0xFF==27:
            break

# 释放
vc.release()
# 关闭所有窗口
cv2.destroyAllWidows()
```
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200629234239255.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzI5ODIy,size_16,color_FFFFFF,t_70)
## 读取图片的部分数据

```python
def cv_show(name,img):
    cv2.imshow(name,img)
    cv2.waitKey(5000)
    cv2.destroyAllWindows()

img = cv2.imread('../imgs/cat2.jpg')
# 原图像
cv_show('cat',img)
img = cv2.imread('../imgs/cat2.jpg')
cat = img[0:200,0:200]
# 部分图像
cv_show('cat',cat)

```
### 原图像
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200629234801733.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzI5ODIy,size_16,color_FFFFFF,t_70)
### 现在图像
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200629234825691.png)
## 颜色通道的提取
* blue,green,red = cv2.split(img)

```python
# 颜色通道的提取
img = cv2.imread('../imgs/cat2.jpg')
# blue,green,red = cv2.split(img)
cv_show('img',img)
b,g,r = cv2.split(img)
cv_show('blue',b)
cv_show('green',g)
cv_show('red',r)
# 将图片通道组合起来
img = cv2.merge((b,g,r))
```

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200629235537818.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzI5ODIy,size_16,color_FFFFFF,t_70)

```python

def cv_show(name,img):
    cv2.imshow(name,img)
    cv2.waitKey(5000)

img = cv2.imread('../imgs/cat2.jpg')
cv_show('img',img)
# 只保留R
imgr = img.copy()
imgr[:,:,0]=0
imgr[:,:,1]=0
cv_show('R',imgr)

# 只保留G
imgg = img.copy()
imgg[:,:,0]=0
imgg[:,:,2]=0
cv_show('G',imgg)

# 只保留B
imgb = img.copy()
imgb[:,:,1]=0
imgb[:,:,2]=0
cv_show('B',imgb)
```

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200630000159762.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzI5ODIy,size_16,color_FFFFFF,t_70)
#### 小记
* 2020.06.30 0:04 
* 快高考了，即使已经经历了高考，当年备考的画面仍然历历在目，希望每一名学子都能收到目标大学的录取通知书，2020高考加油
* 今天太晚了，今天，如果不学点东西的话，又是一个荒废的一天